-- File: pyleros_dm.vhd
-- Generated by MyHDL 1.0dev
-- Date: Tue Aug 16 08:54:21 2016


library IEEE;
use IEEE.std_logic_1164.all;
use IEEE.numeric_std.all;
use std.textio.all;

use work.pck_myhdl_10.all;

entity pyleros_dm is
    port (
        clk: in std_logic;
        reset: in std_logic;
        rd_addr: in unsigned(7 downto 0);
        wr_addr: in unsigned(7 downto 0);
        wr_data: in unsigned(15 downto 0);
        wr_en: in std_logic;
        rd_data: out unsigned(15 downto 0)
    );
end entity pyleros_dm;
-- Definition of the data memory for pyleros. 
-- Reading is synchronous with the rising edge of the
-- clock. Writing is also done on the clock rising edge if 
-- the enable signal wr_en is high. 
-- 
-- Arguments (ports):
--     clk: The clock signal
--     reset: The reset signal #Async?
--     rd_addr: IN Read address
--     wr_addr: IN Write address
--     wr_data: IN Write data
--     wr_en: IN Write enable
--     rd_data: OUT The data at DM address rd_addr
--     
-- 
-- Parameters:
--     debug: Debugging mode, the processor prints various error messages
--     

architecture MyHDL of pyleros_dm is



type t_array_DM is array(0 to 256-1) of unsigned(15 downto 0);
signal DM: t_array_DM;

begin





PYLEROS_DM_READ_WRITE: process (clk, reset) is
begin
    if (reset = '1') then
        DM(0) <= to_unsigned(0000, 16);
        DM(1) <= to_unsigned(0000, 16);
        DM(2) <= to_unsigned(0000, 16);
        DM(3) <= to_unsigned(0000, 16);
        DM(4) <= to_unsigned(0000, 16);
        DM(5) <= to_unsigned(0000, 16);
        DM(6) <= to_unsigned(0000, 16);
        DM(7) <= to_unsigned(0000, 16);
        DM(8) <= to_unsigned(0000, 16);
        DM(9) <= to_unsigned(0000, 16);
        DM(10) <= to_unsigned(0000, 16);
        DM(11) <= to_unsigned(0000, 16);
        DM(12) <= to_unsigned(0000, 16);
        DM(13) <= to_unsigned(0000, 16);
        DM(14) <= to_unsigned(0000, 16);
        DM(15) <= to_unsigned(0000, 16);
        DM(16) <= to_unsigned(0000, 16);
        DM(17) <= to_unsigned(0000, 16);
        DM(18) <= to_unsigned(0000, 16);
        DM(19) <= to_unsigned(0000, 16);
        DM(20) <= to_unsigned(0000, 16);
        DM(21) <= to_unsigned(0000, 16);
        DM(22) <= to_unsigned(0000, 16);
        DM(23) <= to_unsigned(0000, 16);
        DM(24) <= to_unsigned(0000, 16);
        DM(25) <= to_unsigned(0000, 16);
        DM(26) <= to_unsigned(0000, 16);
        DM(27) <= to_unsigned(0000, 16);
        DM(28) <= to_unsigned(0000, 16);
        DM(29) <= to_unsigned(0000, 16);
        DM(30) <= to_unsigned(0000, 16);
        DM(31) <= to_unsigned(0000, 16);
        DM(32) <= to_unsigned(0000, 16);
        DM(33) <= to_unsigned(0000, 16);
        DM(34) <= to_unsigned(0000, 16);
        DM(35) <= to_unsigned(0000, 16);
        DM(36) <= to_unsigned(0000, 16);
        DM(37) <= to_unsigned(0000, 16);
        DM(38) <= to_unsigned(0000, 16);
        DM(39) <= to_unsigned(0000, 16);
        DM(40) <= to_unsigned(0000, 16);
        DM(41) <= to_unsigned(0000, 16);
        DM(42) <= to_unsigned(0000, 16);
        DM(43) <= to_unsigned(0000, 16);
        DM(44) <= to_unsigned(0000, 16);
        DM(45) <= to_unsigned(0000, 16);
        DM(46) <= to_unsigned(0000, 16);
        DM(47) <= to_unsigned(0000, 16);
        DM(48) <= to_unsigned(0000, 16);
        DM(49) <= to_unsigned(0000, 16);
        DM(50) <= to_unsigned(0000, 16);
        DM(51) <= to_unsigned(0000, 16);
        DM(52) <= to_unsigned(0000, 16);
        DM(53) <= to_unsigned(0000, 16);
        DM(54) <= to_unsigned(0000, 16);
        DM(55) <= to_unsigned(0000, 16);
        DM(56) <= to_unsigned(0000, 16);
        DM(57) <= to_unsigned(0000, 16);
        DM(58) <= to_unsigned(0000, 16);
        DM(59) <= to_unsigned(0000, 16);
        DM(60) <= to_unsigned(0000, 16);
        DM(61) <= to_unsigned(0000, 16);
        DM(62) <= to_unsigned(0000, 16);
        DM(63) <= to_unsigned(0000, 16);
        DM(64) <= to_unsigned(0000, 16);
        DM(65) <= to_unsigned(0000, 16);
        DM(66) <= to_unsigned(0000, 16);
        DM(67) <= to_unsigned(0000, 16);
        DM(68) <= to_unsigned(0000, 16);
        DM(69) <= to_unsigned(0000, 16);
        DM(70) <= to_unsigned(0000, 16);
        DM(71) <= to_unsigned(0000, 16);
        DM(72) <= to_unsigned(0000, 16);
        DM(73) <= to_unsigned(0000, 16);
        DM(74) <= to_unsigned(0000, 16);
        DM(75) <= to_unsigned(0000, 16);
        DM(76) <= to_unsigned(0000, 16);
        DM(77) <= to_unsigned(0000, 16);
        DM(78) <= to_unsigned(0000, 16);
        DM(79) <= to_unsigned(0000, 16);
        DM(80) <= to_unsigned(0000, 16);
        DM(81) <= to_unsigned(0000, 16);
        DM(82) <= to_unsigned(0000, 16);
        DM(83) <= to_unsigned(0000, 16);
        DM(84) <= to_unsigned(0000, 16);
        DM(85) <= to_unsigned(0000, 16);
        DM(86) <= to_unsigned(0000, 16);
        DM(87) <= to_unsigned(0000, 16);
        DM(88) <= to_unsigned(0000, 16);
        DM(89) <= to_unsigned(0000, 16);
        DM(90) <= to_unsigned(0000, 16);
        DM(91) <= to_unsigned(0000, 16);
        DM(92) <= to_unsigned(0000, 16);
        DM(93) <= to_unsigned(0000, 16);
        DM(94) <= to_unsigned(0000, 16);
        DM(95) <= to_unsigned(0000, 16);
        DM(96) <= to_unsigned(0000, 16);
        DM(97) <= to_unsigned(0000, 16);
        DM(98) <= to_unsigned(0000, 16);
        DM(99) <= to_unsigned(0000, 16);
        DM(100) <= to_unsigned(0000, 16);
        DM(101) <= to_unsigned(0000, 16);
        DM(102) <= to_unsigned(0000, 16);
        DM(103) <= to_unsigned(0000, 16);
        DM(104) <= to_unsigned(0000, 16);
        DM(105) <= to_unsigned(0000, 16);
        DM(106) <= to_unsigned(0000, 16);
        DM(107) <= to_unsigned(0000, 16);
        DM(108) <= to_unsigned(0000, 16);
        DM(109) <= to_unsigned(0000, 16);
        DM(110) <= to_unsigned(0000, 16);
        DM(111) <= to_unsigned(0000, 16);
        DM(112) <= to_unsigned(0000, 16);
        DM(113) <= to_unsigned(0000, 16);
        DM(114) <= to_unsigned(0000, 16);
        DM(115) <= to_unsigned(0000, 16);
        DM(116) <= to_unsigned(0000, 16);
        DM(117) <= to_unsigned(0000, 16);
        DM(118) <= to_unsigned(0000, 16);
        DM(119) <= to_unsigned(0000, 16);
        DM(120) <= to_unsigned(0000, 16);
        DM(121) <= to_unsigned(0000, 16);
        DM(122) <= to_unsigned(0000, 16);
        DM(123) <= to_unsigned(0000, 16);
        DM(124) <= to_unsigned(0000, 16);
        DM(125) <= to_unsigned(0000, 16);
        DM(126) <= to_unsigned(0000, 16);
        DM(127) <= to_unsigned(0000, 16);
        DM(128) <= to_unsigned(0000, 16);
        DM(129) <= to_unsigned(0000, 16);
        DM(130) <= to_unsigned(0000, 16);
        DM(131) <= to_unsigned(0000, 16);
        DM(132) <= to_unsigned(0000, 16);
        DM(133) <= to_unsigned(0000, 16);
        DM(134) <= to_unsigned(0000, 16);
        DM(135) <= to_unsigned(0000, 16);
        DM(136) <= to_unsigned(0000, 16);
        DM(137) <= to_unsigned(0000, 16);
        DM(138) <= to_unsigned(0000, 16);
        DM(139) <= to_unsigned(0000, 16);
        DM(140) <= to_unsigned(0000, 16);
        DM(141) <= to_unsigned(0000, 16);
        DM(142) <= to_unsigned(0000, 16);
        DM(143) <= to_unsigned(0000, 16);
        DM(144) <= to_unsigned(0000, 16);
        DM(145) <= to_unsigned(0000, 16);
        DM(146) <= to_unsigned(0000, 16);
        DM(147) <= to_unsigned(0000, 16);
        DM(148) <= to_unsigned(0000, 16);
        DM(149) <= to_unsigned(0000, 16);
        DM(150) <= to_unsigned(0000, 16);
        DM(151) <= to_unsigned(0000, 16);
        DM(152) <= to_unsigned(0000, 16);
        DM(153) <= to_unsigned(0000, 16);
        DM(154) <= to_unsigned(0000, 16);
        DM(155) <= to_unsigned(0000, 16);
        DM(156) <= to_unsigned(0000, 16);
        DM(157) <= to_unsigned(0000, 16);
        DM(158) <= to_unsigned(0000, 16);
        DM(159) <= to_unsigned(0000, 16);
        DM(160) <= to_unsigned(0000, 16);
        DM(161) <= to_unsigned(0000, 16);
        DM(162) <= to_unsigned(0000, 16);
        DM(163) <= to_unsigned(0000, 16);
        DM(164) <= to_unsigned(0000, 16);
        DM(165) <= to_unsigned(0000, 16);
        DM(166) <= to_unsigned(0000, 16);
        DM(167) <= to_unsigned(0000, 16);
        DM(168) <= to_unsigned(0000, 16);
        DM(169) <= to_unsigned(0000, 16);
        DM(170) <= to_unsigned(0000, 16);
        DM(171) <= to_unsigned(0000, 16);
        DM(172) <= to_unsigned(0000, 16);
        DM(173) <= to_unsigned(0000, 16);
        DM(174) <= to_unsigned(0000, 16);
        DM(175) <= to_unsigned(0000, 16);
        DM(176) <= to_unsigned(0000, 16);
        DM(177) <= to_unsigned(0000, 16);
        DM(178) <= to_unsigned(0000, 16);
        DM(179) <= to_unsigned(0000, 16);
        DM(180) <= to_unsigned(0000, 16);
        DM(181) <= to_unsigned(0000, 16);
        DM(182) <= to_unsigned(0000, 16);
        DM(183) <= to_unsigned(0000, 16);
        DM(184) <= to_unsigned(0000, 16);
        DM(185) <= to_unsigned(0000, 16);
        DM(186) <= to_unsigned(0000, 16);
        DM(187) <= to_unsigned(0000, 16);
        DM(188) <= to_unsigned(0000, 16);
        DM(189) <= to_unsigned(0000, 16);
        DM(190) <= to_unsigned(0000, 16);
        DM(191) <= to_unsigned(0000, 16);
        DM(192) <= to_unsigned(0000, 16);
        DM(193) <= to_unsigned(0000, 16);
        DM(194) <= to_unsigned(0000, 16);
        DM(195) <= to_unsigned(0000, 16);
        DM(196) <= to_unsigned(0000, 16);
        DM(197) <= to_unsigned(0000, 16);
        DM(198) <= to_unsigned(0000, 16);
        DM(199) <= to_unsigned(0000, 16);
        DM(200) <= to_unsigned(0000, 16);
        DM(201) <= to_unsigned(0000, 16);
        DM(202) <= to_unsigned(0000, 16);
        DM(203) <= to_unsigned(0000, 16);
        DM(204) <= to_unsigned(0000, 16);
        DM(205) <= to_unsigned(0000, 16);
        DM(206) <= to_unsigned(0000, 16);
        DM(207) <= to_unsigned(0000, 16);
        DM(208) <= to_unsigned(0000, 16);
        DM(209) <= to_unsigned(0000, 16);
        DM(210) <= to_unsigned(0000, 16);
        DM(211) <= to_unsigned(0000, 16);
        DM(212) <= to_unsigned(0000, 16);
        DM(213) <= to_unsigned(0000, 16);
        DM(214) <= to_unsigned(0000, 16);
        DM(215) <= to_unsigned(0000, 16);
        DM(216) <= to_unsigned(0000, 16);
        DM(217) <= to_unsigned(0000, 16);
        DM(218) <= to_unsigned(0000, 16);
        DM(219) <= to_unsigned(0000, 16);
        DM(220) <= to_unsigned(0000, 16);
        DM(221) <= to_unsigned(0000, 16);
        DM(222) <= to_unsigned(0000, 16);
        DM(223) <= to_unsigned(0000, 16);
        DM(224) <= to_unsigned(0000, 16);
        DM(225) <= to_unsigned(0000, 16);
        DM(226) <= to_unsigned(0000, 16);
        DM(227) <= to_unsigned(0000, 16);
        DM(228) <= to_unsigned(0000, 16);
        DM(229) <= to_unsigned(0000, 16);
        DM(230) <= to_unsigned(0000, 16);
        DM(231) <= to_unsigned(0000, 16);
        DM(232) <= to_unsigned(0000, 16);
        DM(233) <= to_unsigned(0000, 16);
        DM(234) <= to_unsigned(0000, 16);
        DM(235) <= to_unsigned(0000, 16);
        DM(236) <= to_unsigned(0000, 16);
        DM(237) <= to_unsigned(0000, 16);
        DM(238) <= to_unsigned(0000, 16);
        DM(239) <= to_unsigned(0000, 16);
        DM(240) <= to_unsigned(0000, 16);
        DM(241) <= to_unsigned(0000, 16);
        DM(242) <= to_unsigned(0000, 16);
        DM(243) <= to_unsigned(0000, 16);
        DM(244) <= to_unsigned(0000, 16);
        DM(245) <= to_unsigned(0000, 16);
        DM(246) <= to_unsigned(0000, 16);
        DM(247) <= to_unsigned(0000, 16);
        DM(248) <= to_unsigned(0000, 16);
        DM(249) <= to_unsigned(0000, 16);
        DM(250) <= to_unsigned(0000, 16);
        DM(251) <= to_unsigned(0000, 16);
        DM(252) <= to_unsigned(0000, 16);
        DM(253) <= to_unsigned(0000, 16);
        DM(254) <= to_unsigned(0000, 16);
        DM(255) <= to_unsigned(0000, 16);
        rd_data <= to_unsigned(0000, 16);
    elsif falling_edge(clk) then
        
        rd_data <= DM(to_integer(rd_addr));
        if bool(wr_en) then
            
            DM(to_integer(wr_addr)) <= wr_data;
        end if;
    end if;
end process PYLEROS_DM_READ_WRITE;

end architecture MyHDL;
